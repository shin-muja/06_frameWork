<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <h2>노선별로 경유하는 정류장의 목록(Java <-> OpenAPI)</h2>

	<button id="btn1">정류소 목록 조회</button>
	<br><br>
	<table id="resultTable" border="1">
		<thead id="resultHead">
			<tr>
				<th>노선 ID</th>
				<th>정류소ID</th>
				<th>정류소명</th>
				<th>정류소번호</th>
				<th>정류소순번</th>
			</tr>
		</thead>
		<tbody id="resultBody">

		</tbody>

     시험 2가지 원하는 답이 똑같음
     원인이 적음 4개보다 적음 2,3개
     파라미터 필수 옵션 아닌 옵션 확인하기 데이터 타임 xml json

     1월 8일날 화면구현 시험 react todolist나옴
	</table>

	<hr>

  <script>
    const btn = document.getElementById("btn1");
    const resultBody = document.getElementById("resultBody");

    btn.addEventListener("click", () => {
      fetch("/busInfo")
      .then(resp => resp.json())
      .then(data => {
        const jsonData = data.response.body.items.item;
        // console.log(data);
        console.log(jsonData);

        for(let i in jsonData) {
          let item = jsonData[i];

          const row = document.createElement("tr");

          // 노선 ID
          const routeid = document.createElement("td");
          routeid.textContent = item.routeid;

          row.append(routeid);

          // 정류소 ID
						const busNodeId = document.createElement("td");
						busNodeId.textContent = item.nodeid;
						row.appendChild(busNodeId);

						// 정류소명
						const nodenm = document.createElement("td");
						nodenm.textContent = item.nodenm;
						row.appendChild(nodenm);

						// 정류소번호
						const nodeno = document.createElement("td");
						nodeno.textContent = item.nodeno;
						row.appendChild(nodeno);

						// 정류소순번
						const nodeord = document.createElement("td");
						nodeord.textContent = item.nodeord;
						row.appendChild(nodeord);

          resultBody.append(row);
        }

      })
    });
  </script>
</body>
</html>